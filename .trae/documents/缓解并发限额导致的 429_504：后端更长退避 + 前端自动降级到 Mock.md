## 现状
- 即梦返回 50430 并发受限；60 秒内未能成功排队，导致前端 504 超时。

## 方案
- 后端：在提交阶段对 50430/429/503 做更长时间的指数退避（上限 180s），打印重试次数与等待时长。
- 前端：当后端返回 429/50430 或超时文案时，自动降级调用本地 Mock，保证路演可展示，UI 进度与提示保持一致。

## 改动点
- `server/index.js`：将提交总体超时由 60s 提升到 180s，并在发生并发受限时逐次打印日志（attempt / delay）。
- `src/hooks/useGeneration.ts`：为 `generateByServer` 增加错误捕获；遇到并发受限或超时则调用 `mockAIService` 的进度/生成方法降级。

## 验证
- 连续点击生成：若并发受限，后端将退避重试；前端在达到阈值后会自动降级返回演示结果，避免 504。