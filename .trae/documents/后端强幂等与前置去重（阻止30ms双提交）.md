## 目标
- 阻止30ms内的双重提交：在上传临时图床之前基于原始Base64/URL计算哈希键进行去重，保证只生成一个taskId。
- 前端按钮在等待生成时禁用，防止用户快速连击。

## 服务端改动（server/index.js）
1. 引入 `crypto` 并实现 `computeDedupeKey(prompt, imageUrl, requestId)`：
   - 若提供 `X-Request-Id` 头，优先使用；否则对 `prompt + rawImageRef` 做 `sha256`。
   - `rawImageRef`：当 `imageUrl` 为 `data:*;base64,` 时取其Base64体；否则直接用URL；若未提供则用常量 `NO_IMAGE`。
2. 在 `/api/generate` 入口：
   - 先计算 `key`，检查 `submissions` 映射。命中且10秒内直接返回已有 `taskId`（不上传、不入队）。
   - 未命中：立即分配 `taskId` 并写入映射，然后执行上传（如需要）和入队；上传失败时删除映射并返回错误。
3. 添加过期清理：删除超过1分钟的映射条目。

## 前端改动（src/pages/Result/index.tsx）
- 将“开始AI变身/生成”按钮增加 `disabled={isLoading}`，并在 `isLoading` 时给按钮添加不可点击样式。

## 验证
- 连续点击触发两次请求，后端仅返回一个 `taskId`；前端按钮在加载中不可再次触发；生成流程保持正常。